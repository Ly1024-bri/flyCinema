<!DOCTYPE html>
<html >
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- 上述3个meta标签*必须*放在最前面，任何其他内容都*必须*跟随其后！ -->
    <title>index</title>
    <!-- Bootstrap -->
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="css/common.css">
    <link rel="stylesheet" type="text/css" href="css/index.css">
    <!-- HTML5 shim 和 Respond.js 是为了让 IE8 支持 HTML5 元素和媒体查询（media queries）功能 -->
    <!-- 警告：通过 file:// 协议（就是直接将 html 页面拖拽到浏览器中）访问页面时 Respond.js 不起作用 -->
    <!--[if lt IE 9]>
    <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>

    <![endif]-->
</head>
<body>
<div id="header"></div>
<hr size="1" width="100%" align="left" noshade>
<div class="container">
    <div style="font-size: 20px;margin-bottom: 20px" id="name"></div>
    <div class="row">
        <div class="col-xs-4">
            <img src="" width="300px" height="226px" id="img">
        </div>
        <div class="col-xs-6">
            <div style="margin-bottom: 10px" id="address">地址：xxxxxx</div>
            <div style="margin-bottom: 10px" id="phone">联系电话：xxxxxx</div>
        </div>
    </div>
    <hr size="1" width="100%" align="left" noshade>
    <div class="row" style="font-size:20px">
        <div>选座购票</div>
    </div>
    <div class="row">
        <div class="col-xs-1">
            <div style="margin-bottom: 20px">选择影片</div>
            <div>选择时间</div>
        </div>
        <div class="col-xs-11" >
            <div id="movie">

            </div>
           <div id="schedule">

           </div>
        </div>
    </div>
    <hr size="1" width="100%" align="left" noshade>
    <div class="row">
        <div class="row" style="margin-top: 10px">
            <div class="col-xs-2" style="color: #9d9d9d">放映时间</div>
            <div class="col-xs-2" style="color: #9d9d9d">放映版本</div>
            <div class="col-xs-2" style="color: #9d9d9d">放映厅</div>
            <div class="col-xs-2" style="color: #9d9d9d">座位情况</div>
            <div class="col-xs-2" style="color: #9d9d9d">电影票价格</div>
            <div class="col-xs-2" style="color: #9d9d9d">选座购票</div>
        </div>
        <div class="row" style="margin-top: 10px">
            <div class="col-xs-2" style="color: #9d9d9d">14:50</div>
            <div class="col-xs-2" style="color: #9d9d9d">国语3D</div>
            <div class="col-xs-2" style="color: #9d9d9d">7号厅</div>
            <div class="col-xs-2" style="color: #9d9d9d">宽松</div>
            <div class="col-xs-2" style="color: #9d9d9d">77</div>
            <div class="col-xs-2" style="color: #9d9d9d">
                <input type="button" id="submit" class="submit;btn btn-info" value="选座购票">
            </div>
        </div>
        <div class="row" style="margin-top: 10px">
            <div class="col-xs-2" style="color: #9d9d9d">15:50</div>
            <div class="col-xs-2" style="color: #9d9d9d">国语3D</div>
            <div class="col-xs-2" style="color: #9d9d9d">9号厅</div>
            <div class="col-xs-2" style="color: #9d9d9d">已满</div>
            <div class="col-xs-2" style="color: #9d9d9d">77</div>
            <div class="col-xs-2" style="color: #9d9d9d">
                <input type="button" id="" class="submit;btn btn-info" value="选座购票">
            </div>
        </div>
    </div>
</div>
<div id="footer"></div>
<!-- jQuery (Bootstrap 的所有 JavaScript 插件都依赖 jQuery，所以必须放在前边) -->
<script src="js/jquery-3.3.1.js"></script>
<!-- 加载 Bootstrap 的所有 JavaScript 插件。你也可以根据需要只加载单个插件。 -->
<script src="js/bootstrap.min.js"></script>
<script type="text/javascript" src="js/include.js"></script>
<script src="js/getParameter.js"></script>
</body>
<script>
    $(function () {


        var cid = getParameter("cid");
        //影院详情页查找一个影院，并显示
        $.get("/flyCinema/city/findOneCinema",{cid: cid},
        function (cinema) {

            $("#name").html(cinema.name);
            $("#img").prop("src",cinema.img);
            $("#address").html("地址："+cinema.address);
            $("#phone").html("联系电话："+cinema.phone);

        },
        "json");

        //影院详情页，查找电影并显示
        $.get("/flyCinema/films/findHottestFilms",{},
        function (info) {

            var lis = "";

            for (var i = 0 ;i < 9 ; i++) {

                if (i == 0){
                    lis += '<span style="margin-right: 20px;background-color: red;" onclick="loadSchedule('+cid+','+info.data[i].mid+')" >'+info.data[i].name+'</span>';

                }else {
                    lis += '<span style="margin-right: 20px;" onclick="loadSchedule('+cid+','+info.data[i].mid+')" >'+info.data[i].name+'</span>';

                }
            }

            $("#movie").html(lis);


        },"json")

        // <span style="margin-right: 20px;background-color: red;" >百八</span>
        //     <span style="margin-right: 20px" href="">百八</span>
        //     <span style="margin-right: 20px" href="">百八</span>


    });

    function loadSchedule(cid,mid) {

        $.get("/flyCinema/films/findHottestFilms",{},
        function () {

        },"json")

    }


</script>
</html>